<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nivel 3</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>

    <div id="nivel3" class="nivel">

        <!-- VIDAS -->
        <div class="vidas-wrapper">
            <img id="vida1" class="vida" src="assets/icons/corazon_rojo.png">
            <img id="vida2" class="vida" src="assets/icons/corazon_rojo.png">
        </div>

        <h2>NIVEL 3</h2>

        <div class="contenedor-logo">
            <img id="imagenActual" class="img-deformada" src="" alt="Imagen a adivinar">
            <img id="imagenRespuesta" class="img-respuesta" src="" alt="Imagen respuesta" style="display: none;">
        </div>

        <div id="opciones3" class="opciones"></div>

        <button class="volver" onclick="volverMenu()">Volver al menú</button>

        <img src="assets/logo.png" class="logo-fakmind">

    </div>

    <!-- POPUP FINAL -->
    <div id="popupNivel3" class="popup-overlay">
        <div class="popup">
            <h3>¡Completaste el Nivel 3!</h3>
            <img src="assets/flecha.png" class="popup-btn" onclick="volverMenu()" />
        </div>
    </div>

    <!-- POPUP PERDER NIVEL 3 - RECLAMAR RECOMPENSAS NIVEL 2 -->
    <div id="popupPerderNivel3" class="popup-overlay">
        <div class="popup">
            <h3>Reclama las recompensas del Nivel 2</h3>
            <button class="reward-button" onclick="showRewardClaimPopup('popupRecompensaNivel2')">Reclamar</button>
            <button class="close-btn" onclick="volverMenu()" style="margin-top: 10px;">Volver al menú</button>
        </div>
    </div>

    <!-- POPUP RECOMPENSA NIVEL 2 -->
    <div id="popupRecompensaNivel2" class="popup-overlay">
        <div class="popup">
            <h3>¡Felicidades!</h3>
            <p>Ganaste las recompensas del Nivel 2</p>
            <div class="qr-code">
                <img src="assets/qrs/qr_descuento.png" alt="QR Descuento">
            </div>
            <button class="close-btn" onclick="hideRewardPopup('popupRecompensaNivel2'); hideRewardPopup('popupPerderNivel3'); volverMenu();">Cerrar</button>
        </div>
    </div>

    <!-- LOGOS FOOTER -->
    <div class="bottom-logos">
        <img src="assets/mata.png" class="logo-mata">
        <img src="assets/yourfriends.png" class="logo-yourfriends">
    </div>

    <script src="js/game.js"></script>
    <script>
        // Datos del Nivel 3 - REEMPLAZA CON TUS DATOS
        const itemsNivel3 = [
            { imagen: "assets/3/1.png", imagenRespuesta: "assets/3/1_respuesta.png", correcta: "BAPE", opciones: ["Essentials", "Hellstar", "BAPE", "Supreme"] },
            { imagen: "assets/3/2.png", imagenRespuesta: "assets/3/2_respuesta.png", correcta: "Corteiz", opciones: ["Corteiz", "Off white", "Trapstar", "SYNA"] },
            { imagen: "assets/3/3.png", imagenRespuesta: "assets/3/3_respuesta.png", correcta: "Hellstar", opciones: ["Valley", "Hellstar", "Balenciaga", "Denim Tears"] },
            { imagen: "assets/3/4.png", imagenRespuesta: "assets/3/4_respuesta.png", correcta: "Cactus Jack x SP5DER", opciones: ["Cactus Jack", "Louis Vuitton", "Cactus Jack x SP5DER", "Palm Angls", "Yeezy"] },
            { imagen: "assets/3/5.png", imagenRespuesta: "assets/3/5_respuesta.png", correcta: "Chormehearts", opciones: ["Chormehearts", "Balenciaga", "Louis Vuitton", "North face", "Nocta"] }
        ];

        // Instancia del motor de juego para Nivel 3
        let gameEngine;

        function iniciarNivel3() {
            gameEngine = new GameEngine({
                items: itemsNivel3,
                imageElementId: "imagenActual",
                imageRespuestaId: "imagenRespuesta",
                optionsContainerId: "opciones3",
                livesElementIds: ["vida1", "vida2"],
                popupId: "popupNivel3",
                onComplete: () => {
                    // Ya se muestra el popup automáticamente
                },
                onGameOver: () => {
                    showRewardPopup("popupPerderNivel3");
                }
            });

            gameEngine.init();
        }

        function volverMenu() {
            goToMenu();
        }

        // Iniciar automáticamente al cargar la página
        window.onload = iniciarNivel3;
    </script>

</body>

</html>